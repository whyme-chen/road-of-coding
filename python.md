# Python基础

## Python简介

1. 简介：跨平台程序设计语言、解释型语言、交互式语言、面向对象语言。吉多·范罗苏姆（Guido van Rossum）在 1989 年的圣诞节期间，为了打发时间而编写的一个编程语言。

2. Python能做什么

   * 数据分析
   * 自动化
   * 网络爬虫：通过程序去获取 Web 页面上自己想要的数据，也就是自动抓取数据
   * web开发
   * 游戏开发
   * 人工智能与机器学习

3. Python之禅

   >进入到 Python 的命令行界面，输入 import this 便可以看到

4. print()函数

5. 转义字符

   ![img](https://cdn.aidaxue.com/courseactive/1529/18113/0/40fc87bd95eb50b7b487d8909a5e1b97.jpg)
   
6. 注释

## 变量及字面量

1. 变量的概念

2. 变量的创建

   > 与其他编程语言不同的是，Python 没有声明变量的命令，首次为其赋值时，才会创建变量。赋值的语法：

3. 变量命名规则

   * 变量名只能包含数字、字母和下划线

   * 变量名必须以字母或下划线字符开头

   * 变量名称区分大小写

   * 若一个变量名包含多个单词，使用下划线隔开

   * 变量名应该有意义

   * 不能使用保留字作为变量名

     ![img](https://cdn.aidaxue.com/courseactive/1447/16979/0/cfbb57d2afc8c7624533495767693459.jpg)

## 数据类型及运算符

Python 的数据类型：数字类型、布尔型和字符串类型。

1. 数字类型

   * int（整型）

   * float（浮点型）

   * 运算符

     * 算术运算符

       ![img](https://cdn.aidaxue.com/courseactive/1449/16989/16995/e609c950fe6d4caa6501fecba1a187e9.jpg)

     * 赋值运算符

       ![img](https://cdn.aidaxue.com/courseactive/1449/16989/16995/0730171341b71002d33ae1490f7b8926.jpg)

     * 比较运算符：比较运算符返回的值是 True 或者 False。

       ![img](https://cdn.aidaxue.com/courseactive/1449/16989/16995/528494624f1f17094a4647e98f339b1c.jpg)

     * 逻辑运算符

       ![img](https://cdn.aidaxue.com/courseactive/1449/16989/16995/de3975cc9f3902da89c4a17a9488999e.jpg)

2. 布尔型

   * True
   * False

3. 字符串型

   > 如果字符串横跨多行，可以使用三个单引号或三个双引号将字符串括起来。

   * 索引

     > 在 Python 中，字符串中的字符可以通过索引来提取。索引语法是：`变量[下标]`，这里的下标是由数字表示，代表所要索引的字符在变量中的位置。当从前往后索引时，下标从 0 开始。当从后往前索引时，下标从 -1 开始。

   * 切片

     > 可以通过切片来提取变量的多个字符，
     >
     > * 切片语法是：变量[头下标:尾下标]（不包括尾下标对应的元素）。
     > * 当不指定头下标和尾下标时，获取的是整个字符串：star[:]。
     > * 当只指定头下标时，获取的是从头下标到字符串结尾的所有字符。
     > * 当只指定尾下标时，获取的是字符串的开头到尾下标的字符串（不包括尾下标对应的元素）

   * 字符长度

     > Python 中 len() 可以获取字符串的长度

   * 常用字符串方法

     ![img](https://cdn.aidaxue.com/courseactive/1449/17005/17013/2032d3e6ee68e15283828b434fb68673.jpg)

     > 可以使用变量.title()方法，使每个单词的首字母大写
     >
     > 可以使用变量.rstrip()方法，删除结尾的空白字符（但这只是暂时的，再次访问时空白字符仍然存在）

   * 转义字符

     > \t：制表符
     >
     > \n：换行符
     
   * 字符串中引用变量的值

     > 在字符串前面加小写字母 'f'，然后将需要引用的变量，用花括号包起来 {name}

     ~~~ python
     name = "chen"
     age = 20
     print(f"my name is {name},age is {age}")
     ~~~

4. 获得变量的数据类型

   > 使用 type()，来获取变量的数据类型

5. 数据类型转换

   ![img](https://cdn.aidaxue.com/courseactive/1449/17017/0/e76c18c076a04c5b9e8423fd8825ae17.jpg)

## 流程控制

1. if语法

   ~~~python
   if 条件:
       语句块1
   语句块2
   
   
   if 条件:
       语句块1
   else:
       语句块2
   语句块3
   
   if 条件1:
       语句块1
   elif 条件2:
       语句块2
   else:
       语句块3
   语句块4
   ~~~

2. while

   * `while` 循环：只要条件满足，就会一直执行一组语句。Python 中，`while` 表示的信息是当...时候，也就是说当 `while` 循环的条件满足时，会一直执行满足条件的语句。

   * while循环语法

     ![img](https://cdn.aidaxue.com/courseactive/1455/17095/17097/b7cac9e918602fa4c218baaba88af416.jpg)

3. for

   * for 循环用于迭代序列（即列表、元组、字典、集合或字符串等）

   * for循环语法

     ![img](https://cdn.aidaxue.com/courseactive/1455/17087/17089/74ed4459263946f5b14433cd0a74760d.jpg)

4. break和continue

## 列表

列表是有序数据的集合。定义的语法是使用方括号 [] 括起来以逗号分隔的数据。

1. 列表的特性

   * 列表示有序的

   * 同一个列表可以包含不同类型的数据

   * 列表中的元素可以重复出现

   * 可以通过索引的方式来访问列表的元素

   * 列表可以嵌套

   * 列表元素可以修改

     * 使用del 列表名[ ]实现删除效果

     * 使用 + 往列表中增加元素，添加的元素会自动的被添加到列表尾部

       > 列表名 += [元素1,元素2,元素3,...,元素n]

     * 改变列表的方法

       > * 除了使用`+`，`append()` 也可以为列表添加元素，和`+`一样，也是在列表的结尾处添加元素，可以添加一个元素或列表。
       > * insert() 可以在指定位置插入一个元素或列表。语法是：insert(n, 需要添加的元素/列表值)，n 为需要插入元素或列表的指定位置
       > * 使用 `remove(元素值)` 从列表中删除指定的元素，如果指定的元素在列表中不存在，则会报错。还可以使用 pop(index) 来删除指定元素，index 为元素在列表中的位置。如果不指定 index，默认删除最后一个元素。
       >
       > pop()和 remove() 主要有两点不同：
       >
       > * pop()传入的参数为索引值，而不是具体的元素值。
       > * pop() 的返回值为删除的元素。

   ![img](https://cdn.aidaxue.com/courseactive/1453/17075/0/3acb62c4c07dec491d95290af09f7e7c.jpg)

## 字典

1. 字典创建

   > 字典是一系列键值对的集合。
   >
   > 注意：在创建字典时，当键值重复时，以后加入的键值对为准。

2. 访问字典

   > * 访问字典中某个键值对的值：字典名[键名]
   > * 还可以使用 get() 方法进行访问，语法规则是字典名.get(键名)
   > * 还可以通过遍历的方式（一般通过for循环来实现遍历哦）来访问字典中的键值对
   >
   > * 还可以使用 values() 函数返回字典的值，语法规则是字典名.values()
   > * 还可以使用 items() 函数遍历键和值，语法规则是字典名.items()

   ~~~ python
   ne_zha = {'英雄名字': '哪吒', '最大生命': 7268, '生命成长': 270.4, '初始生命': 3483, '最大法力': 1808, '法力成长': 97, '初始法力': 450, '最高物攻': 320, '物攻成长': 11.5, '初始物攻': 159, '最大物防': 408, '物防成长': 22.07, '初始物防': 99}
   
   for key, value in ne_zha.items():
       print("key = ", key, ", value = ", value)
   ~~~

3. 修改字典

   > * 使用索引添加新项目
   > * 使用pop() 方法删除具有指定键名的项，语法规则为字典名.pop(键名)
   > * popitem() 方法删除最后插入的项目（在 3.7 之前的版本中，删除随机项目），语法规则为字典名.popitem()
   > * 我们也可以使用 `del` 关键字删除具有指定键名的项目，语法规则为 `del 字典名[键名]`，
   > * del 关键字也可以完全删除字典，语法规则为：del 字典名
   > * clear() 函数清空字典，语法规则为：字典名.clear()

4. 复制字典

   > * 使用内建的字典方法 copy()复制字典，语法规则是 字典名.copy()
   > * 制作副本的另一种方法是使用内建方法 dict()，语法规则是 dict(字典名)

5. 使用dict（）创建字典

   > 可以使用 `dict()` 构造函数创建新的字典，语法规则为：`字典名 = dict(键名=键值, 键名=键值,..., 键名=键值)`

## 元组

1. 创建元组

   > * 元组和列表很像，区别在于元组创建完成后便不能被修改。创建元组很简单，只需要将用逗号分隔的元素放到 `()` 中，`(元素1,元素2,元素3,...,元素n)`
   > * 如果需要创建一个仅包含一个元素的元组，必须在该元素后面添加一个逗号，否则，Python 无法将变量识别为元组

2. 访问元组

   > * 使用索引操作符 `[]` 访问元组的元素，我们可以从左到右正索引，也可以从右到左负索引

3. 合并元组

   > 元组不能被修改，但是两个元组是可以合并成一个新的元组的，在 Python 中，使用 `+` 运算符可以连接两个或多个元组

## 集合

> 集合是无序元素的集合，集合中的元素不可重复，并且创建完成后，其中的元素不可更改。但是整个集合是可以更改的，我们可以向其增加元素，也可以从中删除元素。

1. 创建集合

   > * 将以逗号分隔的元素放在花括号 {} 中，{元素1,元素2,元素3,...,元素n}
   > * 集合中的元素不可重复，如果有重复元素，重复的元素将被忽略。

2. 访问集合

   > * 可以通过 `for` 循环来遍历集合的元素
   > * 可以使用 `in` 关键字来判断集合中是否存在某个元素

3. 修改集合

   > * add() and update()都可用于向集合结尾添加元素。语法规则为：集合名.add(元素名)、集合名.update({元素1,元素2,...,元素n})
   > * discard() 和 remove() 用于从集合中删除元素。语法规则为：`集合名.discard()`、`集合名.remove()`。这两个函数的区别在于，从集合中删除一个不存在的元素时，`discard()` 不会执行任何操作，而 `remove()` 会抛出一个异常。

4. 操作集合

   > * 并集
   >   * Python 中，实现集合并集可以使用 union() 和 | 操作符。
   >   * 集合1.union(集合2)
   >   * 集合1|集合2
   > * 交集
   >   * 使用 intersection() 和 & 实现不同集合间的交集。
   >   * 集合1.intersection(集合2)
   >   * 集合1 & 集合2
   > * 差集
   >   * 可以使用 difference() 来实现差集的运算，语法规则为集合1.difference(集合2)
   >   * 可以使用-来实现差集的运算，语法规则为 集合1-集合2
   > * 对称差集：属于集合 A，不属于集合 B 的以及属于集合 B 不属于集合 A 的元素集合
   >   * 可以使用 `symmetric_difference()` 来实现对称差集的运算，语法规则是：`集合1.symmetric_difference(集合2)`
   >   * 可以使用 ^ 来实现对称差集的运算，语法规则是：集合1^集合2

## 函数

1. 函数的定义

   ![img](https://cdn.aidaxue.com/courseactive/1463/17207/17209/689d602e3b6cd41d68c3fa77563025a2.jpg)

   注意：

   > 1. 函数也是一个对象（对象即内存中用于存储数据的一块区域）

2. 传递参数

   * 位置参数：表示参数的位置对于函数的结果是有影响的，同样的参数值，在不同的位置，会有不一样的结果表达

   * 关键字参数：在传递值的时候，还可以带上参数的名字，具体形式为 `keyword = value`，这里的 `keyword` 必须匹配上一个函数定义中的参数名，也就是说是 `参数名1=值1`，`参数名2=值2`，`参数名3=值3` 这种形式。

     ~~~ python
     def cal(qty, item, price):
         print(f'{qty} {item} cost ${price:.2f}')
     
     
     cal(qty=6, item='bananas', price=5.74)
     ~~~

   * 默认参数：在定义函数时，可以指定参数的默认值。指定默认值之后，在调用函数时如果没有指定某个参数的值，就用参数的默认值。

3. return

   > Python 函数中的 `return` 语句有两个作用：
   >
   > * 立即结束本函数的执行，将程序的执行控制权交还给调用者。
   > * 返回数据给调用者。

## 类和对象

1. 类

   * 类的创建

     ![img](https://cdn.aidaxue.com/courseactive/1465/17239/17241/bdf3a0aa4cd2f9381d06aff3ed63c809.jpg)

     ~~~ python
     #创建类Bird
     class Bird:
         #对象初始化语句
         def __init__(self, n, c, s):
             self.name = n
             self.color = c
             self.size = s
         
         #定义方法get_description，参数为self，自动传入
         def get_description(self):
             description = f'{self.name} {self.color} {self.size} '
             print(description)
     ~~~

     > \_\_init\__\()方法：
     >
     > 类中的函数称作方法，`__init__()` 是一个特殊的方法，每当我们实例化一个对象时，这个方法都会自动执行。方法名的开头为两个下划线，结尾同样为两个下划线，这种命名的习惯主要是为了区分 Python 默认的方法名和我们自己定义的方法名。`def __init__(self, n, c, s):` 语句中，参数 self 表示对象自身，代表实例化对象的引用。参数n, c, s则表示对象的属性，在我们创建的类 `Bird` 中就是表示，每一种鸟的具象化特征，比如鹦鹉、绿色、中等大小，因此 `__init__()` 方法的作用是为对象的属性赋值。
     >
     > ![img](https://cdn.aidaxue.com/courseactive/1465/17239/17243/7ee477ae903cc7cb1d3588c99cf5a417.jpg)

2. 对象

   > 类是用来描述具有相同的属性和方法的对象的集合，它定义了该集合中每个对象所共有的属性和方法。类是抽象的，对象是对类进行具象的实例化。

   * 实例化对象

     ~~~ python
     #创建类Bird
     class Bird:
     
         #对象初始化语句
         def __init__(self, n, c, s):
             self.name = n
             self.color = c
             self.size = s
     
          #定义方法get_description，参数为self，自动传入
         def get_description(self):
             description = f'{self.name} {self.color} {self.size} '
             print(description)
     
     #实例化对象my_bird，为my_bird赋予属性'鹦鹉', '绿色', '中等大小'
     my_bird = Bird('鹦鹉', '绿色', '中等大小')
     ~~~

3. 继承

   > * 在创建类时，不必每次都从零开始，假设我们想要创建的新类和已经创建过的类之间有一些共同的属性和方法，我们就可以从某个现有的类继承，新类称为子类，被继承的类称为父类。继承时，子类会获取父类的所有属性和方法，并且子类还可以定义自己的属性和方法。
   > * 子类的语法规则是：`class 新类名(父类名)`，比如 `class Penguin(Bird)` 就表示一个子类，父类为 `Bird`。

## 模块和包

### 模块

> 在 Python 中，一个 .py 文件称为一个模块（Module）。
>
> 模块化能够带来很多好处：
>
> * 简化问题求解
> * 提高代码可维护性
> * 提高代码可重用性
> * 减少代码冲突

1. 创建模块

2. 导入模块

   > 模块创建完成后，可以使用 import 关键字来导入模块。当执行 import指令时，Python 会从以下路径中搜索对应模块。
   >
   > * 在当前目录下搜索该模块。
   > * 在环境变量 PYTHONPATH 指定的路径列表中依次搜索。
   > * 在 Python 安装路径的 lib 库中搜索。
   >
   > 上述路径可以通过变量 `sys.path` 获得，该变量位于模块 `sys` 中。`sys.path`是 Python 的一个系统变量，是 Python 搜索模块的路径列表。
   >
   > \=\=\=\=\=\=\=
   >
   > 模块导入的另一种方法，直接导入模块中的对象，语句为：from 模块名 import 方法名。有时候，为了方便，会使用 from module_name import * 来导入模块中的所有对象
   >
   > \=\=\=\=\=\=\=
   >
   > Python 中模块内的对象和方法也可以有自己的别名，实现语句为： `from 模块名 import *** as 别名` ，该命令为导入的对象起一个别名。这样就可以通过别名来使用对象。

### 包

> Python 中的包实现了对模块分组管理的功能。

1. 导入包中模块

   >导入包中的模块，语法规则为：import 包.模块名。可以通过 from 语句来实现模块的导入
   >

## 异常处理

1. 什么是异常

   > 在 Python 中，异常是在程序运行过程中发生的错误，当异常发生时，需要对异常进行处理，否则整个程序将崩溃。

2. 异常的处理

   > `try` 和 `except` 语句块可以用来捕获和处理异常，`try` 后面跟的是需要捕获异常的代码，`except` 后面跟的是捕获到异常后需要做的处理。每一个 `try` 语句块后面必须跟上一个 `except` 语句块，即使 `except` 语句块什么也不做。`try` 语句块后面可以跟上多个 `except` 语句块。
   >
   > ~~~ python
   > try:
   >     print(1 / 0)
   > except ZeroDivisionError:
   >     print("ZeroDivisionError happened!")
   > 
   > print("Done!")
   > ~~~
   >
   > `try-except` 语句块后面可以跟上 `else` 语句块，当没有异常发生时，会执行 `else` 语句块中的代码。
   >
   > `try-except-else` 语句块后面还可以跟上 `finally` 语句块，不管有没有发生异常，`finally` 语句块中的代码都会被执行

3. 抛出异常

   > 也可以主动抛出异常。主动抛出异常使用 raise 关键字。
   >
   > ~~~ python
   > x = 10
   > if x > 5:
   >     raise Exception('x should not exceed 5. The value of x was: {}'.format(x))
   > ~~~

## 读写数据

### 原生读写

1. 优点：不占内存

2. 打开文件

   > f=open(file,mode='i',encoding=None)
   >
   > file：文件路径
   >
   > mode：文件打开模式
   >
   > * 常用参数：
   >   * r：以只读的方式打开文件，默认值
   >   * w：以写的方式打开文件
   >   * x：创建一个新文件并进行写入操作，若文件已存在则报错
   >   * a：追加
   >
   > encoding：编码

3. 读取文件

   > f.read()：读取整个文件，字符串显示
   >
   > f.readLine()：每次读取一行，指针在该行末尾
   >
   > f.readLines()：读取整个文件，以列表显示
   >
   > strip()：用于移除字符串头尾指定的字符

   ~~~ python
   f=open("C:\\Users\\hp\\Desktop\\test.java",'r',encoding='utf-8')
   # f.read()
   f.readlines()
   ~~~

   

4. 空间

### pandas文件读写

### 连接mysql



# 办公自动化

## Excel

# 网络爬虫（数据采集）

## 概述

1. 爬虫：全称应为网络爬虫，搜索引擎就是网络爬虫的应用。是一种按照一定规则，自动你抓取互联网信息的程序或脚本。

2. 应用

   * 零售业
   * 金融行业

3. 构建流程

   ```python
   1. 确定目标网站，这个目标网站就是你要获取数据的网站。
   2. 确定你要获取数据的页面的 URL。
   3. 对第 2 步中的 URL 发起请求以获取页面的 HTML 代码。
   4. 使用解析工具从 HTML 中获取想要的数据。
   5. 将第 4 步中获取到的数据保存到 JSON 或 CSV 文件中或者保存成其他格式。
   ```

4. 背景调研（合法使用爬虫）

   > 在深入讨 论爬取一个网站 之前，我们首先需要对目标站点的规模和结构进行一定程度的了解。例如网站自身的robots.txt和Sitemap文件

   * 检查robots.txt

   * Sitemap

   > 构建网站 所使用的技术类型也会对我们如何爬取产生影响。 有一个十分有用的工具可以检查网站 构建的技术类型一－builtwith 模块。
   >
   > 下载该模块
   >
   > ~~~python
   > pip install builtwith
   > ~~~
   >
   > 使用该模块对URL进行分析
   >
   > ~~~python
   > import builtwith
   > builtwith.parse('要进行分析的URL')
   > ~~~

5. 本质：模拟浏览器打开网页，获取网页中我们想要的部分数据。

6. 分类

   * 通用爬虫

     > 常见的就是搜索引擎，无差别的收集数据、存储，提取关键字，构建索引库，给用户提供搜索接口。

   * 聚焦爬虫

7. 接口

## HTTP协议

### 基本概述

### 请求响应过程

## 快速入门

1. 爬取：为了抓取网站 ，我们首先需要下载包含有感兴趣数据的网页，该过程一般被称为爬取（crawling）。
2. 常用的3中爬取方法：
   * 爬取网站地图
   * 遍历每个网页的数据库ID
   * 跟踪网页链接

## Scrapy框架



# Jupyter Notebook

使用参考：https://blog.csdn.net/Bocker_Will/article/details/122828050

插件推荐：

* https://blog.csdn.net/weixin_43373042/article/details/122757680?spm=1001.2101.3001.6650.18&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-18-122757680-blog-109736618.pc_relevant_paycolumn_v3&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-18-122757680-blog-109736618.pc_relevant_paycolumn_v3&utm_relevant_index=23
* https://blog.csdn.net/qq_41554005/article/details/109736988

## 魔法函数

参考资料：https://blog.csdn.net/qq_41554005/article/details/109736618

# Anaconda

参考资料：https://zhuanlan.zhihu.com/p/32925500