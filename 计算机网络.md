# 计算机网络

## 第一章 概述

### 1.1 互联网概述

1. 互联网 Internet

2. 互连网 internet（网络的网络）

3. 网络：

   * 电信网络
   * 有线电视网络
   * 计算机网络

4. 互联网两个重要基本特点

   * 连通性
   * 共享

   说明：虚拟性也是互联网的一个特点

5. 互联网的三个发展阶段

   * 单个网络---》ARPANET
   * 三级结构的互联网（主干网、地域网、校园网）
   * 多层ISP结构的互联网（主干ISP、地域ISP、本地ISP）

6. 与互联网有关的一些机构及名词

   * 互联网协会（ISOC）
     * 互联网工程部（IETF）
     * 互联网研究部（IRTF）
   * RFC（Request For Comment）

7. 成为互联网正式标准的三个阶段

   * 互联网草案
   * 建议标准（成为RFC文档）
   * 互联网标准

8. 互联网的组成

   * 边缘部分

     端系统之间的两种通信方式

     * C/S方式
     * P2P方式

   * 核心部分

     * **路由器**：实现**分组交换**，任务是存储转发。
     * 电路交换
       * 特点：必定面向连接。
       * 三个阶段：建立连接、通信、释放连接
     * 报文交换
     * 分组交换

### 1.2 计算机网络的类别

#### 计算机网络的定义

计算机网络的精确定义并未统一。较好的定义是这样的：计算机网络主要是由一些通用的、可编程的硬件互连而成，而这些硬件并非专门用来实现某一特定目的（例如，传送数据或视频信号）。这些可编程的硬件能够用来传送多种不同类型的数据，并能支持广泛的和日益增长的应用。

#### 按使用用户分

* 专用网
* 公用网

#### 按作用范围分

* 广域网（WAN）
* 城域网（MAN）
* 局域网（LAN）
* 个人区域网（PAN）

### 1.3 计算机网络的性能

#### 性能指标

* 速率
* 带宽
* 吞吐量
* 时延
  * 发送时延
  * 传播时延
  * 处理时延
  * 排队时延
* 时延带宽积
* 往返时间
* 利用率

#### 非性能特征

* 费用
* 质量
* 标准化
* 可靠性
* 可扩展性和可升级性
* 易于管理和维护

### 1.4 计算机网络体系结构

网络协议的三要素：

* 语义
* 语法
* 同步

#### OSI七层模型

* 应用层
* 表示层
* 会话层
* 运输层
* 网络层
* 数据链路层
* 物理层

#### TCP/IP四层模型

* 应用层
* 运输层
* 网际层IP
* 网络接口层

#### 五层协议模型

* 应用层
* 运输层
* 网络层
* 数据链路层
* 物理层

+++

## 第二章 物理层

#### 2.1 物理层有关基本概念

1. 物理层基本目的：怎样在连接这种计算机的传输媒体上传输数据比特流，而不是指具体的传输媒体。注意：传输媒体本声并不属于物理层。

2. 可以将物理层的主要任务描述为确定与传输媒体的接口有关的一些特性。

   * 机械特性
   * 电气特性
   * 功能特性
   * 过程特性

3. 信道有关概念

   * 单向通行（单工通信）
   * 双向交替通信（半双工通信）
   * 双向同时通信（全双工通信）

   注意：信道和电路是有区别的。信道一般表示向某一个方向传递信息的媒体。而一条通信线路往往包含一条发送信道和一条接收信道。

4. 基带信号的调制

   * 基带调制形成基带信号（基带调制也叫编码）
   * 带通调制形成带通信号

5. 常用的编码方式

   * 不归零制
   * 归零制
   * 曼彻斯特编码
   * 差分曼彻斯特编码

6. 基本带通调制方法

   * 调幅
   * 调频
   * 调相

7. 限制码元在信道上的传输速率的因素

   * 信道能够通过的频率范围
   * 信噪比

#### 2.2 物理层下面的传输媒体

1. 导引型传输媒体
2. 非导引型传输媒体

## 第四章 网络层

### 4.1 网络层提供的两种服务

1. 两种争论的焦点：网络层应该向运输层提供怎样的服务？（“面向连接”还是“无连接”）
2. 争论的实质：计算机通信中，可靠交付由谁来负责？是**网络**还是**端系统**
3. 虚电路服务
4. 数据报服务

![image-20210424215925677](https://cdn.jsdelivr.net/gh/whyme-chen/Image/imgimage-20210424215925677.png)

### 4.2 网际协议IP

1. 网际层的IP协议及配套协议

   ![image-20210424220708213](https://cdn.jsdelivr.net/gh/whyme-chen/Image/imgimage-20210424220708213.png)

说明：

* ARP：地址解析协议
* ICMP：网际控制报文协议
* IGMP：网络组管理协议

#### 4.2.1 虚拟互连网络

1. 使用中间设备将异构网络连接起来
   * 物理层：转发器（repeater）
   * 数据链路层：网桥或桥接器（bridge)
   * 网络层：路由器（router）
   * 网桥和路由器的混合物：桥路由（brouter）
   * 网络层以上的中继系统：网关（gateway）

#### 4.2.2 分类的IP地址

1. IP地址及其表示方法

   * 给每个连接在互联网上的主机（或路由器）分配一个在**全世界范围内的唯一32位标识符**。
   * IP地址现在由互联网名字和数字分配机构ICANN进行分配。

2. IP地址的编址方法

   * 分类IP地址
   * 划分组网
   * 构成超网

3. 分类IP地址

   ![image-20210424223557255](https://cdn.jsdelivr.net/gh/whyme-chen/Image/imgimage-20210424223557255.png)


#### 4.2.3 IP地址与硬件地址

#### 4.2.4 地址解析协议ARP

1. 要点
2. 四种典型情况
   * 主机询问，主机回答
   * 主机询问，路由器回答
   * 路由器询问，主机回答
   * 路由器询问，路由器回答

#### 4.2.5 IP数据报的格式

1. 一个IP数据报由首部和数据两部分组成

2. 首部前一部分是固定长度，20个字节

   ![image-20210426092441082](https://cdn.jsdelivr.net/gh/whyme-chen/Image/imgimage-20210426092441082.png)

   说明：

   * 版本：占4位
   * 首部长度：占4位，可以 表示最大值为15个单位（一个单为4字节）。因此，IP数据报的首部长度最大值是60字节
* 区分服务：占8位，只有在使用区分服务时，才起作用
   * 总长度：占16位，数据报最大长度 65535字节。总长度必须不超过最大传输单元MTU
   * 标识：计数器，用来产生IP数据报的标识
   * 标志：占3位，但目前只有前两位有意义。最低位是MF，中间位是DF
   * 片偏移：占13位，片偏移以8个字节为偏移单位
   * 生存时间：占8位，即为TTL，指示数据报在网络中可通过的路由器数的最大值
   * 协议
   * 首部检验和：占16位，只检验数据报首部

#### 4.2.6 IP层转发分组的流程

### 4.3 划分子网和构造超网

#### 4.3.1 划分子网

#### 4.3.2 使用子网时分组的转发

### 4.4 ICMP协议 

1. 种类
   * ICMP差错报告报文
     * 终点不可达
     * 时间超时
     * 参数问题
     * 改变路由（重定向）
   * ICMP询问报文
     * 回送请求和回答
     * 时间戳请求和回答

### 4.5 互联网的路由选择协议







## 第五章 运输层

### 5.1 运输层概述

1. 计算机网络体系结构中的物理层、数据链路层以及网络层它们共同解决了将主机通过异构网络互联起来所面临的问题，实现了主机到主机的通信。但实际上在计算机网络中进行通信的真正实体是位于通信两端主机中的进程。
2. 如何为运行在不同主机上的应用进程提供直接的通信服务是运输层的任务，运输层协议又称为端到端协议。
3. 运输层向高层用户屏蔽了下面网络核心的细节(如网络拓扑、所采用的路由选择协议等)，它使应用进程看见的就好像是在两个运输层实体之间有一条端到端的逻辑通信信道。
4. 根据应用需求的不同，因特网的运输层为应用层提供了两种不同的运输协议，即面向连接的TCP和无连接的UDP，这两种协议就是本章要讨论的主要内容。
5. 运输层还要对收到的报文进行**差错检测**。

#### 端口号、复用和分用

![image-20210509165303761](C:\Users\hp\AppData\Roaming\Typora\typora-user-images\image-20210509165303761.png)

#### 运输层的两个主要协议

1. UDP（User Datagram Protocol）
2. TCP（Transmission Control Protocol）

UDP在传送数据之前不需要想建立连接。

TCP提供面向连接的服务。TCP不提供广播或多播服务。

#### 端口

1. TCP/IP的运输层用一个16位端口号来标志一个端口。

2. 端口号只具有本地意义。

3. 分类

   * 服务器端使用的端口号

     * 熟知端口号（0-1023）

       | 应用进程   | FTP  | TELNET | SMTP | DNS  | TFTP | HTTP | SNMP | HTTPS |
       | ---------- | ---- | ------ | ---- | ---- | ---- | ---- | ---- | ----- |
       | 数值端口号 | 21   | 23     | 25   | 53   | 69   | 80   | 161  | 443   |

     * 登记端口号（1024-49151）

   * 客户端使用的端口号

     * 短暂端口号（49152-65535）

### 5.2 用户数据报协议UDP

1. 特点：

   * UDP是无连接的
   * UDP使用尽最大努力交付
   * UDP是面向报文的
   * UDP没有拥塞控制
   * UDP支持一对一、一对多、多对一、多对多的交互通信
   * UDP的首部开销小（只有8个字节）

2. UDP的首部格式

   ![image-20210512160839464](https://cdn.jsdelivr.net/gh/whyme-chen/Image/imgimage-20210512160839464.png)

### 5.3 传输控制协议TCP

1. 主要特点
   * 面向连接的运输协议
   * 只能是点对点（一对一）
   * 提供可靠交付的服务
   * 提供全双工通信
   * 面向字节流的

### 5.4 可靠传输的工作原理

#### 停止等待协议

#### 连续ARQ协议

### 5.5 TCP报文段首部格式

![image-20210517110432385](C:\Users\hp\AppData\Roaming\Typora\typora-user-images\image-20210517110432385.png)



### 5.7 TCP流量控制

### 5.8 TCP拥塞控制









# 图解HTTP

## 一、了解Web及网络基础

1. 三项www构建技术

   * HTML（超文本标记语言）
   * HTTP（超文本传输协议）
   * URL（统一资源定位符）

2. TCP/IP协议簇

   计算机与网络设备要相互通信，双方就必须基于相同的方法。比如， 

   如何探测到通信目标、由哪一边先发起通信、使用哪种语言进行通 

   信、怎样结束通信等规则都需要事先确定。不同的硬件、操作系统之 

   间的通信，所有的这一切都需要一种规则。而我们就把这种规则称为 

   **协议**（protocol）。 

3. TCP/IP的分层管理

   >**应用层**：决定了向用户提供应用服务时通信的活动。 TCP/IP 协议族内预存了各类通用的应用服务。比如，FTP（File Transfer Protocol，文件传输协议）和 DNS（Domain Name System，域 
   >
   >名系统）服务就是其中两类。 
   >
   >**传输层**：对上层应用层，提供处于网络连接中的两台计算机之间的数据 传输。 在传输层有两个性质不同的协议：TCP（Transmission Control Protocol，传输控制协议）和 UDP（User Data Protocol，用户数据报 协议）。
   >
   >**网络层**：用来处理在网络上流动的数据包。数据包是网络传输的最小数 据单位。该层规定了通过怎样的路径（所谓的传输路线）到达对方计 算机，并把数据包传送给对方。与对方计算机之间通过多台计算机或网络设备进行传输时，网络层所 起的作用就是在众多的选项内选择一条传输路线。 
   >
   >**数据链路层**：用来处理连接网络的硬件部分。包括控制操作系统、硬件的设备驱 动、NIC（Network Interface Card，网络适配器，即网卡），及光纤等 物理可见部分（还包括连接器等一切传输媒介）。硬件上的范畴均在 链路层的作用范围之内。 

4. IP协议

   * IP 地址指明了节点被分配到的地址，MAC 地址是指网卡所属的固定 地址。IP 地址可以和 MAC 地址进行配对。IP 地址可变换，但 MAC 地址基本上不会更改。 
   * 使用 **ARP** 协议凭借 **MAC** 地址进行通信
   * IP 间的通信依赖 MAC 地址。


### 







